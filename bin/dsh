#!/bin/bash
VERSION="0.1"
DESCRIPTION="Command/Subcommand line script template"


exists()
{
  command -v "$1" >/dev/null 2>&1
}


usage() {
  echo "Usage: dsh" 1>&2; exit 1;
}


st() {
  docker ps -a
}


ssh() {
  docker exec -it crispy-node-server bash
}


up() {
  open -a Docker
  docker build -t crispy-node .
  docker-compose up -d
}


reload() {
	docker-machine restart
  docker-machine env
  eval $(docker-machine env)
  docker-compose up -d
}

destroy() {
  docker stop $(docker ps -a -q)
  docker rm $(docker ps -a -q)
}

cleanup() {
  docker rm $(docker ps -q -f status=exited)
  dsh reload
}

if exists $1; then
  $1
else
  echo "Subcommand not found: $1"
  dsh usage
fi
